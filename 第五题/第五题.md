#### 5、通过API hook的方法，在每次notepad保存txt文件时，就将文件内容修改为： “you have been hacked!”
- 提示：API hook 的关键是编写一个假函数，用假函数的指针替换IAT中真函数的指针（当然这种方式只能对通过IAT调用的管用，但是够了。）在假函数调用真函数，修改真函数的参数和返回的数据，将修改后的数据返回给调用者。
### 实验过程
- 编写IATHook.cpp，在本地完成IATHook。即在导入表下钩子，使受害者在调用到某个函数时直接跳转到我们写好的攻击函数，执行完攻击函数前或者后，再执行受害者真正要调用的函数
- 编写假的HookWriteFile
- 编译生成HookWriteFile.dll
- 写Inject.cpp，即注入函数，使其向notepad.exe注入HookWriteFile.dll
- 对Inject.dll进行编译但是不执行，先打开一个notepad.exe，并写进内容，然后执行Inject.exe，再把之前的notepad内容选择保存，再打开发现里面内容更改为``` “you have been hacked!”```
- 实验结果如下
![image](https://raw.githubusercontent.com/PWHL/Software-system-and-security/job1/%E7%AC%AC%E4%BA%94%E9%A2%98/test.gif)
- 参考[TheMasterOfMagic/SecurityOfSoftwareAndSystem ](https://github.com/TheMasterOfMagic/SecurityOfSoftwareAndSystem/blob/master/5)